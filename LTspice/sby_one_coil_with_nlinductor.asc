Version 4
SHEET 1 1288 680
WIRE 160 -208 96 -208
WIRE 304 -208 160 -208
WIRE 96 -160 96 -208
WIRE 304 -48 304 -208
WIRE 592 0 496 0
WIRE 656 0 592 0
WIRE 880 0 784 0
WIRE 960 0 880 0
WIRE 96 16 96 -80
WIRE 96 16 -32 16
WIRE 96 80 96 16
WIRE 496 80 496 0
WIRE 656 80 656 0
WIRE 784 80 784 0
WIRE 960 96 960 0
WIRE 96 256 96 160
WIRE 304 256 304 32
WIRE 304 256 96 256
WIRE 496 256 496 160
WIRE 496 256 304 256
WIRE 656 256 656 160
WIRE 656 256 496 256
WIRE 784 256 784 160
WIRE 784 256 656 256
WIRE 960 256 960 176
WIRE 960 256 784 256
WIRE 96 304 96 256
FLAG 96 304 0
FLAG -32 16 EXC
FLAG 160 -208 OUT
FLAG 592 0 Phi
FLAG 880 0 DDTPhi
SYMBOL voltage 96 64 R0
WINDOW 3 -103 347 Left 2
WINDOW 123 -88 299 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE({-amp} {amp} 0 10n 10n {1/(2*f)} {1/f})
SYMATTR Value2 AC {amp}
SYMATTR InstName V1
SYMBOL bv 496 64 R0
WINDOW 3 -21 260 Left 2
SYMATTR Value V=600u*tanh(5*I(L1))
SYMATTR InstName B1
SYMBOL bv 784 64 R0
WINDOW 3 71 269 Left 2
SYMATTR Value V=DDT(V(Phi))
SYMATTR InstName B2
SYMBOL res 80 -176 R0
SYMATTR InstName R1
SYMATTR Value 10
SYMBOL res 640 64 R0
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL res 944 80 R0
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL ind 288 -64 R0
WINDOW 3 55 -120 Left 2
SYMATTR Value Flux=600u*Tanh(5*x)
SYMATTR InstName L1
TEXT 928 -216 Left 2 !.tran 0 10m 9.520m 1n startup
TEXT 936 -184 Left 2 !.param f=25k amp=100
